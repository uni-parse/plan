const F=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function c(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(i){if(i.ep)return;i.ep=!0;const s=c(i);fetch(i.href,s)}};F();function I(e,n){return new Promise(c=>e.addEventListener(n,c,{once:!0}))}function C(e,n){const c=[];for(let d=e;d<=n;d++)c.push(d);return c}function K({fromThreeHours:e,fromHour:n,fromMinutes:c,toThreeHours:d,toHour:i,toMinutes:s,th0:l,h0:r,m0:o,th1:f,h1:t,m1:a,th:m,h:M,m:b,els:$,elsCache:g}){if(e&&d)v();else if(e&&i)v(0,t<3),t<3&&p();else if(e&&s)v(0,t<3||a<6),(t<3||a<6)&&p(0,a<6),a<6&&P();else if(n&&d)v(r>1),r>1&&L();else if(n&&i){if(v(r>1,t<3),!m&&(r>1||r==1&&t<3))return x();r>1&&L(),t<3&&p()}else if(n&&s)v(r>1,t<3||a<6),!m&&(r>1||t<3||a<6)?x(0,a<6):m&&(r>1&&L(),(t<3||a<6)&&p(0,a<6)),a<6&&P();else if(c&&d){if(v(o>1),o==1)return;L(1),N()}else if(c&&i)v(o>1||r>1,t<3),!m&&!(o==1&&r==1&&t==3)?x(o>1):m&&((r>1||o>1)&&L(o>1),t<3&&p()),o>1&&N();else if(c&&s){if(v(o>1||r>1,t<3||a<6),!m&&(o>1||r>1||t<3||a<6)?x(o>1,a<6):m&&((r>1||o>1)&&L(o>1),(t<3||a<6)&&p(0,a<6)),!m&&!M&&(o>1||a<6))return w();o>1&&N(),a<6&&P()}function v(u=0,y=0){C(l+u,f-y).forEach(E=>g.add($.th[E-1]))}function x(u=0,y=0){C((l-1)*3+r+u,(f-1)*3+t-y).forEach(E=>g.add($.h[E-1]))}function L(u=0,y=0){C((l-1)*3+r+u,l*3-y).forEach(E=>g.add($.h[E-1]))}function p(u=0,y=0){C((f-1)*3+1+u,(f-1)*3+t-y).forEach(E=>g.add($.h[E-1]))}function w(u=0,y=0){C(((l-1)*3+r-1)*6+o+u,((f-1)*3+t-1)*6+a-y).forEach(E=>g.add($.m[E-1]))}function N(u=0,y=0){C(((l-1)*3+r-1)*6+o+u,((l-1)*3+r)*6-y).forEach(E=>g.add($.m[E-1]))}function P(u=0,y=0){C(((f-1)*3+t-1)*6+1+u,((f-1)*3+t-1)*6+a-y).forEach(E=>g.add($.m[E-1]))}}function j({toDescendant:e,fromThreeHours:n,fromHour:c,fromMinutes:d,toThreeHours:i,toHour:s,toMinutes:l,th:r,h:o,m:f}){let t;return e?t=0:n?(i?t=r*18:s?t=(r-1)*18+o*6:l&&(t=(r-1)*18+(o-1)*6+f),t+=18):c?(i?t=(r+1)*18+o*6:s?t=r*18+o*6:l&&(t=r*18+(o-1)*6+f),t+=6):d&&(i?t=(r+1)*18+(o+1)*6+f:s?t=r*18+(o+1)*6+f:l&&(t=r*18+o*6+f),t++),t}function z(e,n,c,d){const i=Math.floor(e/100),s=Math.floor(e%100/10),l=e%10,r=Math.floor(n/100),o=Math.floor(n%100/10),f=n%10,t=r-i,a=o-s,m=f-l,M=!s&&!l,b=s&&!l,$=!!l,g=!o&&!f,v=o&&!f,x=!!f,L=M&&!t||b&&x&&!t&&!a,p=j({toDescendant:L,fromThreeHours:M,fromHour:b,fromMinutes:$,toThreeHours:g,toHour:v,toMinutes:x,th:t,h:a,m});if(p<=0)return 0;c.forEach(u=>u.style.background=""),c.clear();const w=Math.floor(p/18),N=Math.floor(p%18/6),P=p%6;return console.log(`${e} ${n} ${p} (${t},${a},${m}) (${w},${N},${P})`),K({fromThreeHours:M,fromHour:b,fromMinutes:$,toThreeHours:g,toHour:v,toMinutes:x,th0:i,h0:s,m0:l,th1:r,h1:o,m1:f,th:t,h:a,m,els:d,elsCache:c}),p}function B(){const e=document.querySelector("#dayCircleCtx");e.style.touchAction="none",e.ondragstart=()=>!1,e.onpointerdown=G}async function G(e){e.preventDefault();const n=H(e);if(!n)return;_(e.target);const c=e.currentTarget,d=new Set,i={th:document.querySelectorAll(".threeHours"),h:document.querySelectorAll(".hour"),m:document.querySelectorAll(".minutes")};c.onpointerover=s=>{const l=H(s);[0,n].includes(l)||!z(n,l,d,i)||d.forEach(o=>_(o))},await I(c,"pointerup"),c.onpointerover=null,d.forEach(s=>s.style.background=""),d.clear()}function H({target:e}){let n=0,c=0,d=0;if(e.classList.contains("minutes")){n=+e.dataset.minutes;const i=+e.parentElement.children[6].dataset.hour;c=i%3||3,d=Math.ceil(i/3)}else if(e.classList.contains("hour")){const i=+e.dataset.hour;c=i%3||3,d=Math.ceil(i/3)}else e.classList.contains("threeHours")&&(d=+e.dataset.threeHours);return d*100+c*10+n}function _(e){e.style.background="red"}const S=document.createElement("div");S.id="dayCircleCtx";const D=document.createElement("div");for(let e=1;e<=6;e++){const n=document.createElement("div");n.className=`minutes m${e}`,n.dataset.minutes=e,D.append(n)}const q=document.createElement("div");q.id="hoursCtx";for(let e=1;e<=24;e++){const n=document.createElement("div");n.className=`hour h${e}`,n.dataset.hour=e;const c=D.cloneNode(!0);c.append(n),c.className=`hourCtx hCtx${e}`,c.dataset.hour=e==24?"0":e,q.append(c)}const A=document.createElement("div");A.id="threeHoursCtx";for(let e=1;e<=8;e++){const n=document.createElement("div");n.className=`threeHours _3h${e}`,n.dataset.threeHours=e,A.append(n)}const O=document.createElement("div");O.id="centerCircle";S.append(q,A,O);const k=document.createElement("main");document.body.append(k);k.append(S);B();console.log("done");
